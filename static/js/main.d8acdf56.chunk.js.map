{"version":3,"sources":["utils.js","components/checkboxes.jsx","components/popup.jsx","img/vector.png","App.js","index.js"],"names":["MIN_SALARY","options","MAX_CASHBACK","Checkboxes","pays","className","map","pay","i","id","value","type","htmlFor","memo","Popup","onClose","useState","form","setForm","isShow","setSalary","active","setActive","res","cashbackPerYear","Math","floor","Number","push","length","Array","fill","getPays","invalid","console","log","handleClickRadio","e","target","textContent","useEffect","document","body","addEventListener","handleKeyDown","keyCode","removeEventListener","onClick","src","alt","autoFocus","name","onChange","placeholder","option","disabled","App","visible","setVisible","handleToggle","ReactDOM","render","StrictMode","getElementById"],"mappings":"qLAAaA,EAAa,KACbC,EAAU,CAAC,uCAAU,4BAE5BC,EAAe,KCDfC,EAAa,SAAC,GAAY,IAAXC,EAAU,EAAVA,KAEnB,OACE,sBAAKC,UAAU,+BAAf,UACE,oBAAIA,UAAU,oBAAd,sOACA,oBAAIA,UAAU,mBAAd,SACGD,EAAKE,KAAI,SAACC,EAAKC,GAAN,OACV,qBAAIH,UAAU,4BAAd,UACE,uBACEA,UAAU,kBACVI,GAAE,eAAUD,EAAE,GACdE,MAAOH,EACPI,KAAK,aAAY,yBACnB,wBACEN,UAAU,kBACVO,QAAO,eAAUJ,EAAE,GAFrB,UAE2BD,EAF3B,yCAEuC,0CAAY,IAAJC,GAAS,SAAjB,IAAuBA,EAAE,EAAzB,IAAiC,IAAJA,GAAS,SAAtC,oCARMD,EAAIC,YAiB5CK,iBAAKV,GCrBdW,EAAQ,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAAa,EACHC,mBAAS,IADN,mBACpBC,EADoB,KACdC,EADc,OAECF,oBAAS,GAFV,mBAEpBG,EAFoB,KAEZC,EAFY,OAGCJ,mBAASf,EAAQ,IAHlB,mBAGpBoB,EAHoB,KAGZC,EAHY,KAIrBlB,EFJe,SAACM,GAEtB,IAAIa,EAAM,GAEV,GAAGb,GAASV,EAAW,CAErB,IAAMwB,EAAkBC,KAAKC,MAAsB,GAAhBC,OAAOjB,GATjC,KAWT,GAAGc,GAAiBtB,EAElB,OADAqB,EAAIK,KAAK1B,GACFqB,EAET,IAAMM,EAASJ,KAAKC,MAAMxB,EAAesB,IACzCD,EAAMO,MAAMD,GAAQE,KAAKP,IACrBI,KAAK1B,GAAgB2B,EAASL,IAEpC,OAAOD,EEZMS,CAAQf,GAEfgB,EAAUhB,EAAKY,OAAS,EAAIZ,EAAOjB,GAAcI,EAAKyB,OAC5DK,QAAQC,IAAI,CAAClB,OAAME,SAAQE,SAAQjB,SAEnC,IAAMgC,EAAmB,SAACC,GACxB,IAAM3B,EAAQ2B,EAAEC,OAAOC,YACvBjB,EAAUZ,IA8BZ,OAVA8B,qBAAU,SAACH,GAOTI,SAASC,KAAKC,iBAAiB,WANT,SAAhBC,EAAiBP,GACJ,KAAdA,EAAEQ,SACH9B,GAAQ,GAEV0B,SAASC,KAAKI,oBAAoB,UAAWF,SAM/C,qBAAKvC,UAAU,mBAAf,SACE,gCACA,gCACE,qBAAK0C,QAxBc,WACvBhC,GAAQ,IAuB4BiC,IClDzB,qeDkDwCC,IAAI,cACjD,uHACA,mBAAG5C,UAAU,qBAAb,yxBAGA,sBAAKA,UAAU,gBAAf,UACE,uBAAOO,QAAQ,SAAf,6HACA,uBACEsC,WAAS,EACTzC,GAAG,SACH0C,KAAK,SACLzC,MAAOO,EACPN,KAAK,SACLyC,SAjCS,SAACf,GACpB,IAAM3B,EAAQ2B,EAAEC,OAAO5B,MACvBQ,EAAQR,GACRU,GAAU,IA+BAiC,YAAY,oFAEbpB,EAAS,uBAAM5B,UAAU,QAAhB,yDAAkCL,EAAlC,wBAA0D,MAGrEmB,GAAU,cAAC,EAAD,CAAYf,KAAMA,IAC7B,sBAAKC,UAAU,cAAf,UACE,2GACA,qBAAKA,UAAU,iBAAf,WACKJ,GAAWA,EAAQK,KAAI,SAACgD,GAAD,OAC1B,wBAEEP,QAASX,EACTzB,KAAK,QACLwC,KAAK,UACL9C,UAAWiD,IAASjC,EACpB,sCACA,wCAPF,SAO4CiC,GANrCA,cAWf,wBAAQP,QAnEQ,WACf9B,IACDG,GAAU,GACVL,GAAQ,KAgEsBV,UAAU,qBAAqBkD,SAAUtB,EAAvE,oEAMSpB,iBAAKC,GEzEL0C,MAhBf,WAAgB,IAAD,EAEiBxC,oBAAS,GAF1B,mBAENyC,EAFM,KAEGC,EAFH,KAIPC,EAAe,WACnBD,GAAYD,IAGd,OACE,sBAAKpD,UAAWoD,EAAS,aAAe,MAAxC,UACE,wBAAQV,QAASY,EAActD,UAAU,qBAAzC,sGACCoD,GAAW,cAAC,EAAD,CAAO1C,QAAS4C,QCRlCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFrB,SAASsB,eAAe,W","file":"static/js/main.d8acdf56.chunk.js","sourcesContent":["export const MIN_SALARY = 12000;\nexport const options = [\"Платеж\", \"Срок\"];\nconst PENI = 0.13;\nconst MAX_CASHBACK = 260000;\n\nexport const getPays = (value) => {\n\n  let res = [];\n\n  if(value >= MIN_SALARY){ \n     \n    const cashbackPerYear = Math.floor(Number(value) * 12 * PENI);\n\n    if(cashbackPerYear>=MAX_CASHBACK){\n      res.push(MAX_CASHBACK)\n      return res;\n    }\n    const length = Math.floor(MAX_CASHBACK / cashbackPerYear);\n    res = Array(length).fill(cashbackPerYear);\n    res.push(MAX_CASHBACK % (length * cashbackPerYear));    \n  } \n  return res; \n};\n","import React, {memo} from 'react';\n\nconst Checkboxes = ({pays}) => {\n  \n  return (\n    <div className=\"popup__checkboxes checkboxes\">\n      <h3 className=\"checkboxes__title\">Итого можете внести в качестве досрочных:</h3>\n      <ul className=\"checkboxes__list\">\n        {pays.map((pay, i)=>\n        <li className=\"checkboxes__item checkbox\" key={pay+i}>\n          <input                \n            className=\"checkbox__field\"\n            id={`year-${i+1}`}\n            value={pay}\n            type=\"checkbox\"/><span></span>\n          <label\n            className=\"checkbox__label\" \n            htmlFor={`year-${i+1}`}>{pay} рублей <span>в{i===1 && \"о\"} {i+1}-{i===1 && \"о\"}й год</span>\n          </label>\n        </li>\n        )}        \n      </ul>\n    </div>\n  );\n};\n\nexport default memo(Checkboxes);\n","import React, {useState, useEffect, memo} from 'react';\nimport closeImg from '../img/vector.png';\nimport {getPays, MIN_SALARY, options} from '../utils';\nimport Checkboxes from './checkboxes';\n\nconst Popup = ({onClose}) => {  \n  const [form, setForm] = useState(\"\");\n  const [isShow, setSalary] = useState(false);\n  const [active, setActive] = useState(options[0]);\n  const pays = getPays(form);\n\n  const invalid = form.length > 1 & form < MIN_SALARY & !pays.length;\n  console.log({form, isShow, active, pays});\n\n  const handleClickRadio = (e) => {    \n    const value = e.target.textContent;\n    setActive(value);    \n  }  \n \n  const handleClick = () => {\n    if(form){\n      setSalary(true);\n      onClose(true);      \n    }    \n  }\n\n  const handleClosePopup = () => {\n    onClose(true);\n  }\n\n  const handleChange = (e) => {\n    const value = e.target.value;    \n    setForm(value);\n    setSalary(true);    \n  }\n\n  useEffect((e)=>{\n    const handleKeyDown = (e) => {\n      if(e.keyCode === 27){\n        onClose(true);             \n      } \n      document.body.removeEventListener('keydown', handleKeyDown);            \n    }\n    document.body.addEventListener('keydown', handleKeyDown);\n  })  \n\n  return (\n    <div className=\"App__popup popup\">\n      <div>\n      <div>      \n        <img onClick={handleClosePopup} src={closeImg} alt=\"close-btn\"/>\n          <h2>Налоговый вычет</h2>\n          <p className=\"popup__description\">Используйте налоговый вычет чтобы погасить ипотеку досрочно. \n            Размер налогового вычета составляет не более 13% от своего официального годового дохода.\n          </p>\n          <div className=\"popup__salary\">\n            <label htmlFor=\"salary\">Ваша зарплата в месяц</label>\n            <input\n              autoFocus\n              id=\"salary\"\n              name=\"salary\"              \n              value={form}\n              type=\"number\"\n              onChange={handleChange}\n              placeholder=\"Введите данные\"\n            />\n            {invalid? <span className=\"error\">Не менее {MIN_SALARY}руб</span> : \"\"}\n          </div>\n          \n          {isShow && <Checkboxes pays={pays}/>}\n          <div className=\"popup__type\">\n            <p>Что уменьшаем?</p>\n            <div className=\"popup__buttons\">\n              {!!options && options.map((option)=>\n              <button \n                key={option} \n                onClick={handleClickRadio} \n                type=\"radio\" \n                name=\"paytype\" \n                className={option===active ?\n                \"popup__button popup__button--filled\":\n                \"popup__button popup__button--outlined\"}>{option}</button>\n              )}              \n            </div>\n          </div>\n      </div>\n      <button onClick={handleClick} className=\"button button--add\" disabled={invalid}>Добавить</button>  \n      </div>      \n    </div>\n  );\n};\n\nexport default memo(Popup);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADsSURBVHgBldSxFYIwEAbg/+IUdpTQOQKOwAhu4AbqCE7gKLKBlpZ0vicNC5AzgfheBJILV+WRy8ddCKEW+QlQRwY3Pbja4tUgId7Isw3oZoYlgc70QcHevMX2EuaQuxlm7lGnAK69nCHBJq5ATFCjeuBgK0nBlhAeutAVhd/y32YI0S6H4iWPmB3EkKE5qXSv7SAygyIYYsgiFMNCiA2FFUFr5qTWEDi0SkJ43Gx/0eI5IwnRgc8/rYwkJHYgfYxSkFjVP4xaFA+zcCchAlabzSaxEj/snPtt/JxSaeirY2qdcBdNsKcppGPQ5Quy7bfNvRERZwAAAABJRU5ErkJggg==\"","import React, {useState} from 'react';\nimport Popup from './components/popup';\n\nfunction App() {\n  \n  const [visible, setVisible] = useState(false);\n\n  const handleToggle = () => {\n    setVisible(!visible);\n  };\n\n  return (\n    <div className={visible? \"App opened\" : \"App\"}>\n      <button onClick={handleToggle} className=\"App__button button\">Налоговый вычет...</button>\n      {visible && <Popup onClose={handleToggle}/>}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}